1. Что такое архитектура ПО

Архитектура программного обеспечения - это не просто код, а совокупность решений, определяющих организацию системы

1. Архитектура включает в себя:
  1. структуру системы
  2. принципы взаимодействия модулей
  3. правила зависимостей между компонентами
  4. распределение ответственности
2. Архитектура определяет то, как система будет:
  1. масштабироваться
  2. тестироваться
  3. изменяться
  4. поддерживаться

2. Код и архитектура: различие понятий

Важно понимать разницу между просто написанием кода и проектированием архитектуры

1. Код - это конкретная реализация логики (например, функция, проверяющая пароль)
2. Архитектура - это способ организации этой логики (например, в каком слое и модуле эта функция будет находиться)
3. Можно написать работающий код без архитектуры, но в дальнейшем это приведет к:
  1. росту сложности
  2. трудностям сопровождения
  3. увеличению количества ошибок
  4. невозможности масштабирования

3. Цели архитектуры

Архитектура создается не ради формальности, а для решения конкретных практических задач:

1. Управление сложностью (основная цель)
2. Повышение устойчивости системы к изменениям
3. Обеспечение масштабируемости
4. Улучшение тестируемости
5. Разделение ответственности между компонентами

4. Уровни архитектуры

Архитектуру можно рассматривать на разных уровнях абстракции:

1. Модульная архитектура (Внутренняя)

  1. Определяет структуру проекта, разделение на пакеты и модули
  2. Описывает внутреннюю организацию кода

2. Прикладная архитектура (Слоевая)

  1. Определяет слои приложения (например, GUI, Service, Repository)
  2. Описывает распределение логики по этим слоям
  3. Регулирует взаимодействие между уровнями

3. Системная архитектура (Внешняя)

  1. Описывает взаимодействие с внешними системами
  2. Определяет работу с базами данных
  3. Включает сетевые взаимодействия и инфраструктурные аспекты

5. Признаки отсутствия архитектуры

Как понять, что в проекте нет архитектуры или она требует пересмотра:

1. Смешение пользовательского интерфейса и бизнес-логики (например, SQL-запросы в коде кнопки)
2. Прямой доступ к базе данных из слоя представления
3. Жесткие зависимости между модулями
4. Циклические импорты
5. Чрезмерно крупные классы или файлы (God-objects)
6. Главный признак: изменение в одном месте приводит к множественным непредсказуемым последствиям в других частях системы

6. Разделение ответственности (Separation of Concerns)

Ключевой принцип архитектуры: каждый компонент должен отвечать за одну четко определенную область

1. GUI (слой представления): отвечает за отображение и обработку событий пользователя
2. Service (слой сервисов): отвечает за бизнес-логику приложения
3. Repository (слой доступа к данным): отвечает за сохранение и извлечение данных (например, из БД)
4. Domain (модели предметной области): отвечает за представление сущностей (например, класс User, Recipe)

7. Связность и зацепление

Две фундаментальные метрики качества архитектуры

1. Связность (Cohesion)

  1. Показывает, насколько элементы внутри одного модуля логически связаны друг с другом
  2. Хорошо: высокая связность (модуль делает одну вещь и делает её хорошо)

2. Зацепление (Coupling)

  1. Показывает, насколько модули зависят друг от друга
  2. Хорошо: низкое зацепление (модули можно менять независимо)

Идеальная архитектура: высокая связность внутри модулей и низкое зацепление между ними

8. Архитектура и тестируемость

Архитектура напрямую влияет на то, насколько легко тестировать систему

1. Система считается тестируемой, если:
  1. бизнес-логика изолирована от внешних зависимостей
  2. зависимости (например, БД, API) можно легко заменить на заглушки (mocks)
  3. отсутствуют жесткие связи между слоями
2. Если для тестирования малейшей функции требуется запуск всей системы целиком, архитектура построена неэффективно

9. Архитектура и масштабируемость

По мере роста проекта грамотная архитектура позволяет развивать систему без боли
При росте проекта увеличивается количество модулей, появляются новые требования, меняются технологии
Грамотная архитектура позволяет:
 - заменять компоненты (например, одну БД на другую) без полной переработки системы
 - добавлять новый функционал, не ломая существующий
 - поддерживать и развивать систему длительное время

10. Архитектурные принципы как основа

В основе любой хорошей архитектуры лежат фундаментальные принципы:

- разделение ответственности
- инверсия зависимостей (зависимости должны быть направлены внутрь, а не наружу)
- модульность
- изоляция изменений 
